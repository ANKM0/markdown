# これは何?

flaskサーバーの修正についての作業メモ

## 作業時間

- 2024/10/13 18:00 - 2024/10/13 19:20 gitに開発内容をpush、devlopmentブランチを作成、リリースノートを作成
- 2024/10/13 19:20 - 2024/10/13 19:47 todoを作成
- 2024/10/13 23:30 - 2024/10/13 23:47 IssueTemplateを作成
- 2024/10/13 23:47 - 2024/10/14 00:05 ファイル自体の修正、ログを作成するの箇所のissueを作成
- 2024/10/14 00:05 - 2024/10/14 00:22 #8 md拡張子を追加
- 2024/10/14 00:22 - 2024/10/14 00:56 #9 サンプルファイルのファイル名、関数名を修正
- 2024/10/14 18:30 - 2024/10/14 19:16 #10 readmeの画像のURLを修正
- 2024/10/14 20:00 - 2024/10/14 20:25 ログの仕様について考え→仮想環境周りを先に終わらせる必要があることに気付く。
- 2024/10/14 20:00 - 2024/10/14 20:25 ログの仕様について考え→仮想環境周りを先に終わらせる必要があることに気付く。
- 2024/10/14 20:27 - 2024/10/14 20:45 #12 仮想環境を作成&gitignoreに仮想環境のフォルダを追加
- 2024/10/14 20:45 - 2024/10/14 20:58 #13 仮想環境についてのドキュメントを作成→いったん休憩
- 2024/10/14 23:00 - 2024/10/15 00:41 #13 仮想環境についてのドキュメントを作成
- 2024/10/15 23:39 - 2024/10/15 00:34 #15 readmeの章立てを作成
- 2024/10/15 00:34 - 2024/10/15 00:46 #16 ローカルで作成していたtodoをタスク一覧(github)に移動作成
- 2024/10/17 21:20 - 2024/10/17 22:23 #18 DB周りについてreadmeに記載、mysql関連のモジュールを削除
- 2024/10/17 22:35 - 2024/10/17 22:40 絶対パスを使用している箇所を探す→サーバーの起動方法(PowerShell)の修正が必要
- 2024/10/17 22:40 - 2024/10/17 23:07 #20 docs: ディレクトリ構成の説明書を作成
- 2024/10/19 18:47 - 2024/10/19 19:34 #20 docs: ディレクトリ構成の説明書を作成
- 2024/10/19 21:20 - 2024/10/19 23:30 単体テストを作成
- 2024/10/20 11:20 - 2024/10/20 13:20 server.pyの単体テストを作成(/testまで)
- 2024/10/20 14:05 - 2024/10/20 15:40 server.pyの単体テストを作成(/test_remote_fileまで)
- 2024/10/20 15:40 - 2024/10/20 15:53 server.pyの単体テストを作成(/mainまで)
- 2024/10/20 15:53 - 2024/10/20 17:09 server.pyの単体テストを作成(/dxfの正常系まで)
- 2024/10/20 17:33 - 2024/10/20 18:11 server.pyの単体テストを作成(/dxfの異常系まで)
- 2024/10/20 18:11 - 2024/10/20 18:45 server.pyの単体テストを作成(/pdf_info)
- 2024/10/20 19:08 - 2024/10/20 21:15 server.pyの単体テストを作成(/pdf_infoの異常系まで)
- 2024/10/20 21:15 - 2024/10/20 22:20 #24 ファイル分割
- 2024/10/20 22:20 - 2024/10/20 22:50 #24 残タスク整理
- 2024/10/20 22:50 - 2024/10/20 23:30 相対パスを削除、docsを修正、powershellからAPIを叩く方法を調査
- 2024/10/21 21:38 - 2024/10/21 23:30 #29 リファクタリングなどの工数見積もり、APIリファレンス、コーディング規約を一部作成
- 2024/10/22 13:00 - 2024/10/22 15:10 #29 APIリファレンス作成
- 2024/10/22 22:30 - 2024/10/22 23:30 #30 test_xxxになっていた箇所の名前を変更
- 2024/10/24 22:18 - 2024/10/24 23:15 10/24MTGの議事録を作成
- 2024/10/26 22:00 - 2024/10/24 23:30 MTGで決まったことを議事録に追記

## メモ

コミットする際にIssue番号を追加する
`#10 [fix]  xxxを変更`

PR
<https://qiita.com/miu-P/items/987ba8ff72704ea86d4d>
PRのテンプレートを作成した方がいいかも...

git checkout -b "#5_organize_some_img_file_of_doc"

ログの開発→仮想環境の作成、requirmentsの作成が必要



D:\programs\Neocellco-python-serverで
python -m venv .venv



## 次回MTGで相談すること(実装していて分からなくなった箇所)

- DBについて
  - 使用していないならファイルを削除すべきでは?(そして、将来必要になったタイミングで復活させる)
  - DjangoのDB(=xserver)と繋いでほしいと言っていた気がするが、これは行うのか。行うとしてサーバーはネットに繋がっているのか(xserverがネット上にあるため)

- mainについて
  - 呼び出している関数の中で間違いがある(モジュールの呼び出し方がおかしい)ため動かない
  - そもそもお試しで作成したものだったと思うので、削除してもいいか?

- server.pyで値があるかどうかしか確認していない→型が違うとき、辞書の中に値がない、型が違うときにエラーになる→修正する


git checkout -b "aoyama/#26"




## 残りtodo

### やらなくてもいいこと

- PRのテンプレートを作成する:やらなくてもok,すぐ終わる
- MTGで確認する
  - postmanの使い方のドキュメントを作成する→単体テスト作成したので、やらなくてもいいのでは?→MTGで確認する
  - テスト方法についてのドキュメント(単体テストの実行方法について):すぐ終わる→テストにdocsを書いたので修正する必要なし

## すぐ終わること

- powershellからAPIを叩く方法について:すぐ終わる?...叩く方法は調査完了。docsはまだ←APIリファレンスが先
- APIのリファレンス(手動で作成?):時間かかる。とりあえず、1,2件やってこんな感じでという風にすればいいか
  - key,value APIの場所(/test)とか　get or post があればいいか。
  - D:\programs\Neocellco-python-server\apps\pdf_info\documents\pdf-info.mdが参考になるかも

## 時間かかること

- ログの作成:時間かかる
- ツールの基本的な使い方(チュートリアル形式で):時間かかりそう
- 設計資料・コーディング規約等のリンク、開発プロセスなどについて:時間かかる
- テスト方法についてのドキュメント(単体テストの作成方法について):時間かかる?
  - 正常系と異常系を書くことを書けばいい

## powershellからAPIを叩く方法

仮想環境からflaskサーバーを立ち上げた状態で下のコマンドを叩く

```bash
Invoke-RestMethod -Uri "http://localhost:8000/test" -Method POST -Body (@{"filepath"="C://Users/AppServer/Downloads/Drawing1.dxf"} | ConvertTo-Json) -ContentType "application/json"



Invoke-RestMethod -Uri "http://localhost:8000/test"
```



- APIリファレンス必要なもの
  - 自動作成について...今のところ手動で作成。apiary.io検討中。いい方法募集中。

todo
#30 PRを書く。
